<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ثبت‌نام | کلینیک زیبایی ملی مهارت</title>
    <!-- فونت -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- فایل CSS -->
    <link rel="stylesheet" href="~/css/signup.css" asp-append-version="true" />
    <!-- اسکریپت‌های Validation سمت کلاینت -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
</head>
<body>
    <div class="bg"></div>
    <main class="wrap">
        <section class="card grid">
            <div class="hero">
                <h1>ثبت‌نام ✨</h1>
                <p>اکانت جدید خود را همین حالا بسازید.</p>
            </div>

            <!-- فرم ثبت‌نام کاملاً به AccountController → Signup وصل شد -->
            <form asp-controller="Account" asp-action="Signup" method="post" class="form" novalidate>
                @Html.AntiForgeryToken()

                <!-- نمایش خطای کلی (مثل شماره تکراری یا خطای سرور) -->
                @if (ViewBag.Error != null)
                {
                    <div class="alert alert-danger" style="padding:10px; margin-bottom:15px; border-radius:8px; background:rgba(220,53,69,0.15); color:#dc3545;">
                        @ViewBag.Error
                    </div>
                }

                <!-- نام و نام خانوادگی -->
                <div class="field">
                    <label for="Fullname">نام و نام خانوادگی</label>
                    <div class="input">
                        <svg width="20" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M12 12a5 5 0 1 0-5-5a5 5 0 0 0 5 5m0 2c-5 0-9 2.5-9 5.5V22h18v-2.5C21 16.5 17 14 12 14" />
                        </svg>
                        <input asp-for="Fullname" id="Fullname" name="Fullname" type="text" required placeholder="مثال: علی رضایی">
                    </div>
                    <span asp-validation-for="Fullname" class="text-danger hint"></span>
                </div>

                <!-- ایمیل -->
                <div class="field">
                    <label for="Email">ایمیل</label>
                    <div class="input">
                        <svg width="20" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M12 12a5 5 0 1 0-5-5a5 5 0 0 0 5 5m0 2c-5 0-9 2.5-9 5.5V22h18v-2.5C21 16.5 17 14 12 14" />
                        </svg>
                        <input asp-for="Email" id="Email" name="Email" class="ltr" type="email" required placeholder="you@example.com">
                    </div>
                    <span asp-validation-for="Email" class="text-danger hint"></span>
                </div>

                <!-- شماره تلفن (اضافه شد چون در مدل User داریم و برای لاگین استفاده می‌شه) -->
                <div class="field">
                    <label for="Phone">شماره تلفن</label>
                    <div class="input">
                        <svg width="20" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M6.62 10.79a15.05 15.05 0 0 0 6.59 6.59l2.2-2.2a1 1 0 0 1 1.11-.22c1.48.43 3.08.66 4.74.66a1 1 0 0 1 1 1v3.74a1 1 0 0 1-1 1A18.07 18.07 0 0 1 3 4.26a1 1 0 0 1 1-1h3.74a1 1 0 0 1 1 1c0 1.66.23 3.26.66 4.74a1 1 0 0 1-.22 1.11l-2.2 2.2Z" />
                        </svg>
                        <input asp-for="Phone" id="Phone" name="Phone" class="ltr" type="tel" required placeholder="0912...">
                    </div>
                    <span asp-validation-for="Phone" class="text-danger hint"></span>
                </div>

                <!-- رمز عبور -->
                <div class="field">
                    <label for="Password">رمز عبور</label>
                    <div class="input">
                        <svg width="20" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M12 1a5 5 0 0 0-5 5v3H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-2V6a5 5 0 0 0-5-5m0 2a3 3 0 0 1 3 3v3H9V6a3 3 0 0 1 3-3m0 9a2 2 0 0 1 2 2a2 2 0 0 1-1 1.73V18a1 1 0 0 1-2 0v-2.27A2 2 0 0 1 12 12" />
                        </svg>
                        <input asp-for="Password" id="password" name="Password" class="ltr" type="password" minlength="6" required placeholder="••••••">
                        <!-- دکمه نمایش/مخفی رمز -->
                        <button type="button" class="toggle-pass" onclick="togglePass()">
                            <svg id="eyeIcon" viewBox="0 0 24 24" width="20">
                                <path fill="currentColor" d="M12 5c-7 0-10 7-10 7s3 7 10 7s10-7 10-7s-3-7-10-7m0 12a5 5 0 1 1 0-10a5 5 0 0 1 0 10" />
                            </svg>
                        </button>
                    </div>
                    <span asp-validation-for="Password" class="text-danger hint"></span>
                    <div class="hint">حداقل ۶ کاراکتر.</div>
                </div>

                <button class="btn" type="submit">ثبت‌نام</button>

                <!-- لینک ورود -->
                <p class="hint" style="text-align:center; margin-top:15px;">
                    حساب دارید؟ <a href="/Account/Login">ورود</a>
                </p>
            </form>
        </section>
    </main>

    <!-- اسکریپت نمایش/مخفی رمز عبور -->
    <script>
        function togglePass() {
            const passwordInput = document.getElementById('password');
            const eyeIcon = document.querySelector('#eyeIcon path');
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                eyeIcon.setAttribute('d', 'M12 5c-7 0-10 7-10 7s3 7 10 7s10-7 10-7s-3-7-10-7m-1.5 7a1.5 1.5 0 1 1 3 0a1.5 1.5 0 0 1-3 0m-3.85 4.35l-1.5 1.5l-1.5-1.5l-1.5 1.5l-1.5-1.5l-3 3l1.5 1.5l3-3l1.5 1.5l3-3l1.5 1.5l1.5-1.5l3 3l1.5-1.5l-3-3z');
            } else {
                passwordInput.type = 'password';
                eyeIcon.setAttribute('d', 'M12 5c-7 0-10 7-10 7s3 7 10 7s10-7 10-7s-3-7-10-7m0 12a5 5 0 1 1 0-10a5 5 0 0 1 0 10');
            }
        }
    </script>
</body>
</html>