<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ورود به حساب | کلینیک زیبایی ملی مهارت</title>
    <!-- فونت -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- فایل CSS -->
    <link rel="stylesheet" href="~/css/login.css" asp-append-version="true" />
    <!-- اسکریپت‌های Validation سمت کلاینت -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
</head>
<body>
    <div class="bg"></div>
    <main class="wrap">
        <section class="card grid">
            <div class="hero">
                <h1>خوش آمدید ✨</h1>
                <p>برای ادامه، وارد حساب کاربری خود شوید.</p>
            </div>

            <!-- فرم ورود کاملاً به AccountController → Login وصل شد -->
            <form asp-controller="Account" asp-action="Login" method="post" class="form" novalidate>
                @Html.AntiForgeryToken()

                <!-- نمایش خطای ورود (از ViewBag.Error در کنترلر) -->
                @if (ViewBag.Error != null)
                {
                    <div class="alert alert-danger" style="padding:10px; margin-bottom:15px; border-radius:8px; background:rgba(220,53,69,0.15); color:#dc3545;">
                        @ViewBag.Error
                    </div>
                }

                <!-- ایمیل یا شماره تلفن -->
                <div class="field">
                    <label for="phone">ایمیل یا شماره تلفن</label>
                    <div class="input">
                        <svg viewBox="0 0 24 24" width="20">
                            <path fill="currentColor" d="M12 12a5 5 0 1 0-5-5a5 5 0 0 0 5 5m0 2c-5 0-9 2.5-9 5.5V22h18v-2.5C21 16.5 17 14 12 14" />
                        </svg>
                        <input asp-for="Phone" id="phone" name="phone" class="ltr" type="text" placeholder="0912... یا you@example.com" required>
                    </div>
                    <span asp-validation-for="Phone" class="text-danger hint"></span>
                </div>

                <!-- رمز عبور -->
                <div class="field">
                    <label for="password">رمز عبور</label>
                    <div class="input">
                        <svg viewBox="0 0 24 24" width="20">
                            <path fill="currentColor" d="M12 1a5 5 0 0 0-5 5v3H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-2V6a5 5 0 0 0-5-5m0 2a3 3 0 0 1 3 3v3H9V6a3 3 0 0 1 3-3m0 9a2 2 0 0 1 2 2a2 2 0 0 1-1 1.73V18a1 1 0 0 1-2 0v-2.27A2 2 0 0 1 12 12" />
                        </svg>
                        <input asp-for="Password" id="password" name="password" class="ltr" type="password" minlength="6" placeholder="••••••" required>
                        <!-- دکمه نمایش/مخفی رمز -->
                        <button type="button" class="toggle-pass" onclick="togglePassword()">
                            <svg id="eyeIcon" viewBox="0 0 24 24" width="20">
                                <path fill="currentColor" d="M12 5c-7 0-10 7-10 7s3 7 10 7s10-7 10-7s-3-7-10-7m0 12a5 5 0 1 1 0-10a5 5 0 0 1 0 10" />
                            </svg>
                        </button>
                    </div>
                    <span asp-validation-for="Password" class="text-danger hint"></span>
                </div>

                <div class="row">
                    <label><input type="checkbox" name="remember"> مرا به خاطر بسپار</label>
                    <a href="/Account/Signup" class="hint">ساخت حساب جدید</a>
                </div>

                <button class="btn" type="submit">ورود</button>
            </form>
        </section>
    </main>

    <!-- اسکریپت نمایش/مخفی رمز عبور -->
    <script>
        function togglePassword() {
            const passwordInput = document.getElementById('password');
            const eyeIcon = document.getElementById('eyeIcon');
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                eyeIcon.innerHTML = '<path fill="currentColor" d="M12 5c-7 0-10 7-10 7s3 7 10 7s10-7 10-7s-3-7-10-7m-1.5 7a1.5 1.5 0 1 1 3 0a1.5 1.5 0 0 1-3 0m-3.85 4.35l-1.5 1.5l-1.5-1.5l-1.5 1.5l-1.5-1.5l-3 3l1.5 1.5l3-3l1.5 1.5l3-3l1.5 1.5l1.5-1.5l3 3l1.5-1.5l-3-3z"/>';
            } else {
                passwordInput.type = 'password';
                eyeIcon.innerHTML = '<path fill="currentColor" d="M12 5c-7 0-10 7-10 7s3 7 10 7s10-7 10-7s-3-7-10-7m0 12a5 5 0 1 1 0-10a5 5 0 0 1 0 10" />';
            }
        }
    </script>
</body>
</html>